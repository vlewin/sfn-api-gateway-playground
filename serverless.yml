service: sfn-api-gateway-playground

provider:
  name: aws
  runtime: nodejs8.10
  region: eu-central-1

  apiGateway: # Optional API Gateway global config
    restApiId: n42gvt3whx # REST API resource ID. Default is generated by the framework
    restApiRootResourceId: 9f8qmgn5dx # Root resource ID, represent as / path
    restApiResources: # List of existing resources that were created in the REST API. This is required or the stack will be conflicted
      '/playground': skvi3x

  iamRoleStatements:
    - Effect: "Allow"
      Action:
        - "s3:*"
      Resource:
        - "*"

functions:
  start:
    handler: handler.start

stepFunctions:
  stateMachines:
    SfnApiGateway:
      events:
        - http:
            path: /playground/start
            method: post
      definition:
        Comment: "A sample application"
        StartAt: Start
        States:
          Start:
            Type: Pass
            End: true
plugins:
  - serverless-step-functions
  - serverless-pseudo-parameters
